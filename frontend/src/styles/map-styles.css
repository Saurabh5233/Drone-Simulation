/* Fix for Leaflet marker icons */
.leaflet-marker-icon,
.leaflet-marker-shadow {
  background-image: url('leaflet/dist/images/marker-icon.png'),
                    url('leaflet/dist/images/marker-shadow.png');
}

/* Map container styles */
.leaflet-container {
  width: 100%;
  height: 100%;
  min-height: 400px;
  border-radius: 0.5rem;
  overflow: hidden;
  z-index: 1;
  transition: filter 0.3s ease;
}

/* Dark mode support for map tiles */
.dark .leaflet-container {
  filter: hue-rotate(180deg) invert(1) brightness(0.8) contrast(1.2);
}

/* Keep custom markers and controls normal in dark mode */
.dark .leaflet-marker-pane,
.dark .leaflet-control-container {
  filter: hue-rotate(180deg) invert(1);
}

/* Custom marker styles */
.drone-marker {
  font-size: 24px;
  text-align: center;
  line-height: 1;
  transform: rotate(0deg);
  transition: transform 0.3s ease;
}

.pickup-marker,
.delivery-marker {
  font-size: 20px;
  text-align: center;
  line-height: 1;
  text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
}

/* Ensure markers are visible in both light and dark modes */
.drone-marker,
.pickup-marker,
.delivery-marker {
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* Animation for the drone marker when moving */
@keyframes droneMove {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-5px) rotate(2deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

.leaflet-marker-icon.moving {
  animation: droneMove 1s infinite;
}
